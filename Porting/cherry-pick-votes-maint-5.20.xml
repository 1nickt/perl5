<?xml version="1.0"?><?xml-stylesheet type="text/xml" href="#stylesheet"?><!DOCTYPE doc SYSTEM "doc.dtd"><doc>

<data>

<div><h2>Tickets Listed in #122913: [META] perl 5.20.2</h2>

<commit votes="steveh, khw" id="b404539126a567987b4748a67c06be2d23b471d5" ticket="123483" desc="silence VC Win64 perl warnings in hv_func.h"/>

</div>

<div><h2>Other Proposed Cherry-Picks</h2>

Blead changes have been examined up to and including db5cc9f9ace5f7ec3feeded852dc53793477c17e (Release prep - Copy descriptions of new errors in perldiag to delta)

Proposed cherry-picks are grouped according to the types of change permitted by perlpolicy.pod.

(NOTE: The same document states that the following types of change are not acceptable:

Anything controversial
Breaking binary compatibility
Adding or removing features
Adding new warnings, errors or deprecations

The same criteria apply to code in dual-life modules as to core code.)

</div>

<div><h3>Crash / Assertion / Memory Corruption Fixes</h3>

I feel a bit leery about this next one.  The code is a bit fragile, so I would feel more comfortable with a couple months’ blead smoking. But the blead implementation changed shortly after that commit. --sprout
<commit votes="steveh" id="db5cc3ee5bdb14c8d59302b6c3ef8ff4bca660bb" ticket="" desc="Fix crash in leave_scope when my sub has CvGV"/>

<commit votes="sprout, steveh" id="fa8f4f85ec35b0f047603e5b90a788571f7141bd" ticket="123554" desc="[perl #123554] avoid a crash from SvGROW(MEM_SIZE_MAX)"/>
<commit votes="sprout, steveh" id="e3e8f263bd1cf5bb33710bdece3b572dd9785f75" ticket="123554" desc="perldelta for fa8f4f85ec35"/>
<commit votes="steveh" id="f63bc603acea5e0f476f181de698958c4ddcccba" ticket="123554" desc="perldelta: Fix typo"/>
<commit votes="steveh" id="cc31571878894dd5f5af83722ca0c2a24621300c" ticket="123554" desc="[perl #123554] stop checking the message"/>

<commit votes="sprout, steveh" id="62db6ea5fed19611596cbc5fc0b8a4df2c604e58" ticket="123538" desc="[perl #123538] always set chophere and itembytes at the same time"/>
<commit votes="sprout, steveh" id="cb6cc22be04ebc9284469880f586341acf15fec5" ticket="123538" desc="perldelta for 62db6ea5fed1"/>

<commit votes="hv, sprout" id="56f81afc0f2d331537f38e6f12b86a850187cb8a" ticket="123604" desc="intuit_more: no need to copy before keyword check"/>

</div>

<div><h3>Security Fixes</h3>

</div>

<div><h3>Other Regression Fixes</h3>

<commit votes="steveh, arc, khw" id="a51d618a82a7057c3aabb600a7a8691d27f44a34" ticket="122283" desc="rt 122283 - do not recurse into GOSUB/GOSTART when not SCF_DO_SUBSTR"/>
<commit votes="steveh, arc, khw" id="d9a72fccda5cacaccd2671769c010f3cda59ef8a" ticket="122283" desc="Add tests for a51d618a fix of RT #122283"/>
<commit votes="steveh, arc, khw" id="74f9f9edcc88e2102b767ccefb4c4100eab199bd" ticket="122283" desc="Another perldelta entry"/>

a51d618a82a7057c3aabb600a7a8691d27f44a34 caused #122890 so do we need this sequence of commits too?
This is hard. #122283 is a genuine maint-worthy regression over 5.18.x, but even though the small, simple change in a51d618a82 fixed that case, it also caused the subsequent regression in #122890 – which is also maint-worthy. Sadly, the real fix is a little more invasive, especially since tracking it down clearly required additional internal debugging tools. I've gone with voting for the changes for #122283, plus the tests and bare-minimum fixes from #122890 (one of which partially reverts the code change for #122283), but I fear that getting the fixes to apply will require either manually reworking them, or pulling in some of the bigger changes (such as abd6de04db). Further, my votes on the commits for both bugs are conditional on the application of *at least* all the commits I've voted for (on the grounds that releasing 5.20.2 with a bug that was known in 5.20.0 and 5.20.1 is less bad than releasing it with a different known bug). That said, I'd be happy to look into manually applying the relevant commits, if need be; I believe I understand roughly what all the bits are doing, and how to select the ones that actually fix the bug. --arc
<commit votes="" id="abd6de04dbc807cb1270d565e5019376c04c77fd" ticket="122890" desc="regcomp.c: struct scan_frame: rename members for clarity"/>
<commit votes="arc" id="c9f0d54c3bad1139a1b0758ca0d999437ed93c95" ticket="122890" desc="regcomp.c: reuse temporary debugging temp sv's"/>
<commit votes="arc" id="3f910e62fcf6ddef8eaffcfa6554e5ff7df08a08" ticket="122890" desc="regcomp.c: eliminate memory leak from GOSUB/GOSTART regops"/>
<commit votes="" id="d615717366f1596d4a1b18ce2ca5a224dc076107" ticket="122890" desc="regcomp.c: study_chunk(): whitespace fixup for legibility"/>
<commit votes="" id="e60d552100fc966cb2917d32cf2e708d20a6427f" ticket="122890" desc="regcomp.c: study_chunk(): improve branch-branch comment"/>
<commit votes="" id="8b9781c905d8bc5e4fbf350df63e212283783324" ticket="122890" desc="regcomp.c: Improve re debug output by showing buffer names if they exist"/>
<commit votes="" id="0a14d816d4f94b3847ccd7cea08086e2244d1e6e" ticket="122890" desc="regcomp.c: Fixup debug output so it matches other messages in context"/>
<commit votes="" id="4420a417a2575a2656eb120d4b4048ac9dfbd46e" ticket="122890" desc="dump.c: Add PERL_PV_PRETTY_EXACTSIZE option"/>
<commit votes="" id="fdfb4f2197409a1d793ee71f18be6e702a5461df" ticket="122890" desc="regcomp.c: Improve advanced re debug output"/>
<commit votes="arc" id="64e04a51361b45dbbb94b038a93c7dc3cca0c7f9" ticket="122890" desc="regcomp.c: study_chunk(): Reset the entire data struct, not just a bit of it."/>
<commit votes="" id="32c35d38c96a76c6f8360ea6854ad3f3fb462725" ticket="122890" desc="regcomp.c: Add comment."/>
<commit votes="arc" id="4286711ac0be1bf8f37eadee54b2e9ebbb08e0d8" ticket="122890" desc="regcomp.c: study_chunk(): Avoid unnecessary recursion."/>
<commit votes="" id="92b05f28a98d1b7301afb8746d17237f1a669174" ticket="122890" desc="Add test names to t/re/regexp.t and friends"/>
<commit votes="" id="890fbec8b209c41a5902022a654cbd782f601bb7" ticket="122890" desc="t/re/re_tests: put comment in correct column"/>
<commit votes="arc" id="f6f22b1fc01b8676e43ef64616ed7899a84bfec2" ticket="122890" desc="t/re/re_tests: Add test for perl #122890"/>
<commit votes="arc" id="efcc8bfdc124f50d33aab3f1d7722b5f9e4de349" ticket="122890" desc="re_tests: More tests for #122890"/>

</div>

<div><h3>Configure and hints Fixes (Consider whether these in particular would break binary compatibility)</h3>

<commit votes="arc" id="c4f300c9d46ec8ace48cff0477dd2866cfe10f79" ticket="" desc="After Yosemite there's no /usr/include."/>
<commit votes="tux, arc" id="a4c2c75af551764534f9f8cb6afd4ef6ba514f45" ticket="" desc="Change os390 custom cppstdin script to use fgrep."/>

<commit votes="tux, khw" id="237050634b19905cdd9e8e25c2a43d0b24eb59f2" ticket="" desc="Add pthread to libswanted"/>
<commit votes="tux, khw" id="90207ba1bd77fb10e2c39594d954b43a9e8ee948" ticket="" desc="Put pthread in front of libswanted and add cl"/>

<commit votes="" id="0cf583b0808e2fb2ac90751d506f2b8ff75aed86" ticket="" desc="uname -r works on MINIX as well"/>

</div>

<div><h3>Platform-Specific Build/Test/Installation Fixes</h3>

</div>

<div><h3>Documentation Fixes</h3>

<commit votes="steveh, arc" id="2a2f23e4f8a50bdcdd10563dc5d933684cb70954" ticket="122853" desc="Remarks specialness of [A-Z] and [a-z]."/>
<commit votes="steveh, arc" id="eb9e3b14fd77e43b36846b86f8780d23fda50258" ticket="" desc="recharclass: Corrections and nits"/>
<commit votes="steveh" id="2174049d55b865d9bed8adad15157d3061d5ae10" ticket="" desc="Update release manager documents for producing .xz tarballs"/>
<commit votes="steveh, arc" id="ecafefb82337acf1046f535da14a6fc0293f70b5" ticket="" desc="perlfunc: document immediate stricture effect of our"/>
<commit votes="steveh" id="dbf3c4d788344c8d20eb2549c638ced519d3f0e8" ticket="" desc="perllocale: Nits"/>
<commit votes="steveh, khw" id="a0879bf8a3066bd055931dcc51f2c4f80ec01ffb" ticket="" desc="perlpod: Latin1 pods need an =encoding"/>
<commit votes="sprout, steveh" id="e6d55c9947dea892b32541479147753415a72c46" ticket="" desc="perldiag: Document 'Bad symbol for scalar'"/>
<commit votes="steveh" id="5ae454f0f6fe0fcfbf51c1f9f4bfc593da8df756" ticket="" desc="proposed changes for perlpolicy updates"/>
<commit votes="steveh" id="b50cfd0a486367dd5f82cdf3ec88ee9d3aa67aa4" ticket="" desc="forward reference from 'new features' to 'experimental'"/>
<commit votes="steveh, khw" id="9650f35b1f161b417324376040f61ae47b518529" ticket="" desc="perlpolicy: the point is caution, not low stakes"/>
<commit votes="steveh, khw" id="667f5e7f722e725f12e664e2dd66190f90db42d7" ticket="" desc="perlpolicy: clarify what 'feature can be replaced' means"/>
<commit votes="steveh, khw" id="1adbeba0a4bd082e42cd1499f87faef5175d36a2" ticket="" desc="perlpolicy: add a missing verb"/>
<commit votes="steveh" id="5bfb0af0b8971c7f063804d149384ca17bfc0ae2" ticket="" desc="Fix apidocs for OP_TYPE_IS(_OR_WAS) - arguments separated by |, not ,."/>
<commit votes="steveh" id="9a5b9407081290adfb965563aed854ccd8560db6" ticket="" desc="perlpodspec: Corrections/adds to detecting =encoding"/>
<commit votes="steveh" id="28ffebafd3403d496952bd64c99bb9bd7cbe871f" ticket="" desc="perlhacktips: Fix typo"/>
<commit votes="steveh" id="dd047fac8a62b125fc36f6faf9e9ba09b7687cd6" ticket="" desc="epigraphs - Correct some dates and links and fill in a couple of missing names"/>
<commit votes="steveh" id="f3d0868876fe4009939d8fb9306dc9ca24756320" ticket="" desc="epigraphs - Prefer nntp.perl.org/ links, and fill in a missing one"/>
<commit votes="steveh" id="6dab83b199828f0a9b00ae4985217a90c2446032" ticket="" desc="epigraphs - No need to break up long L&lt;&gt; lines"/>
<commit votes="steveh" id="e91f1fc181bd1fbed6e335b5f07fb11b4461b363" ticket="" desc="epigraphs - Remove use of =over/=back in six cases since no others do that"/>
<commit votes="steveh" id="4ed12d4a116fcb3b9752f554d2d4b6b44f54b69f" ticket="" desc="epigraphs - Standardize two-space indent for poetry etc; no indent for prose"/>
<commit votes="steveh" id="40e1c3e8f1041a72d0c9014b0d481aad33c70b05" ticket="" desc="epigraphs - No  need to repeat authors/titles after the epigraphs"/>
<commit votes="steveh" id="2ee7da68f1197e25cc1b4b38b9aa169d32d604a5" ticket="" desc="epigraphs - Consistent quoting of titles"/>
<commit votes="steveh" id="72f869fd31700a4a97a90e5be4390144ee4d848d" ticket="" desc="epigraphs - Remove trailing whitespace"/>
<commit votes="steveh" id="c682aa67a4f33d42168c0401bd211e65f7f24c52" ticket="" desc="epigraphs - Sort by Perl version number"/>
<commit votes="steveh" id="c33412d7cc23023128412251144217a4fb0ed8b1" ticket="" desc="epigraphs - Consistent -RCn style"/>
<commit votes="steveh" id="de6a572826be131d097fd215146f4016cea52671" ticket="" desc="epigraphs - Fix a broken I&lt;&gt;"/>
<commit votes="steveh" id="931064641468002f31d00f3f4dd72409a265d717" ticket="" desc="perlrecharclass: Add some missing documentation"/>
<commit votes="steveh" id="f2979eac0a03fcba1cd431ef3d46f697176ebcc8" ticket="" desc="improve SvPV_set's docs, it really shouldn't be public API"/>

</div>

<div><h3>Other</h3>

Not in any of the above categories, but would be nice anyway?:
<commit votes="steveh" id="f276fdad8f6660f36944c895587a7748585e4969" ticket="" desc="Added -x option to makerel to produce .xz tarballs"/>

Bugfix in Safe (Opcode) still needs backporting to maint-5.20:
http://code.activestate.com/lists/perl5-porters/210398/

I will also cherry-pick Module-CoreList changes as necessary in the unholy business of sorting that out for 5.20.2.

</div>

</data>

<xsl:stylesheet version="1.0" id="stylesheet" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template match="xsl:stylesheet"/>
  <xsl:template match="/">
    <html>
      <head>
        <title>Cherry-pick votes for maint-5.20</title>
        <style>
          .accepted .ref a { color: #090 }
          .unvoted  .ref a { color: #c00 }
        </style>
      </head>
      <body>
        <h1>Cherry-pick votes for maint-5.20</h1>
        <xsl:for-each select="/doc/data/div">
          <h2><xsl:value-of select="h2"/></h2>
          <h3><xsl:value-of select="h3"/></h3>
          <table>
            <xsl:for-each select="commit|head">
              <xsl:choose>
                <xsl:when test="local-name() = 'commit'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/commitdiff/{@id}">
                        <xsl:value-of select="@id"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
                <xsl:when test="local-name() = 'head'">
                  <tr>
                    <xsl:apply-templates select="@votes"/>
                    <td style="vertical-align: top; white-space: nowrap">
                      <xsl:value-of select="@votes"/>
                    </td>
                    <td class="ref" style="vertical-align: top">
                      <a href="http://perl5.git.perl.org/perl.git/shortlog/refs/heads/{@branch}">
                        <xsl:value-of select="@branch"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <a href="https://rt.perl.org/Ticket/Display.html?id={@ticket}">
                        <xsl:value-of select="@ticket"/>
                      </a>
                    </td>
                    <td style="vertical-align: top">
                      <xsl:value-of select="@desc"/>
                    </td>
                  </tr>
                </xsl:when>
              </xsl:choose>
            </xsl:for-each>
          </table>
        </xsl:for-each>
      </body>
    </html>
  </xsl:template>
  <xsl:template match="@votes">
    <xsl:choose>
      <xsl:when test=". = ''">
        <xsl:attribute name="class">unvoted</xsl:attribute>
      </xsl:when>
      <xsl:when test="substring-after(substring-after(normalize-space(translate(., ',', ' ')), ' '), ' ') != ''">
        <xsl:attribute name="class">accepted</xsl:attribute>
      </xsl:when>
    </xsl:choose>
  </xsl:template>
</xsl:stylesheet>

</doc>
