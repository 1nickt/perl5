=head1 NAME

perldelta - what is new for perl v5.10.1

=head1 DESCRIPTION

This document describes differences between the 5.10.0 release and
the 5.10.1 release.

If you are upgrading from an earlier release such as 5.8.8, first read
the L<perl5100delta>, which describes differences between 5.8.8 and
5.10.0

=head1 Incompatible Changes

=over

=item *

The semantics of C<use feature :5.10*> have changed slightly.
See L<"Modules and Pragmata"> for more information.

=item *

It is now a run-time error to use the smart match operator C<~~>
with an object that has no overload defined for it. (This way
C<~~> will not break encapsulation by matching against the
object's internal representation as a reference.)

=item *

The version control system used for the development of the perl
interpreter has been switched from Perforce to git.  This is mainly an
internal issue that only affects people actively working on the perl core;
but it may have minor external visibility, for example in some of details
of the output of C<perl -V>. See L<perlrepository> for more information.

=back


=head1 Core Enhancements

=head1 Modules and Pragmata

=head2 New Modules

=over

=item *

C<autodie> is a lexically-scoped replacement for the C<Fatal> module.
The bundled version is 1.998.

=back

=head2 Updated Modules

=over

=item C<feature>

The meaning of the C<:5.10> and C<:5.10.X> feature bundles has
changed slightly. The last component, if any (ie C<X>) is simply ignored.
This is predicated on the assumption that new features will not, in
general, be added to maintenance releases. So  C<:5.10> and C<:5.10.X>
have identical effect. This is a change to the behaviour documented for
5.10.0.

=item *

C<Attribute::Handlers> upgraded from version 0.79 to 0.81

=item *

C<Archive::Extract> upgraded from version 0.24 to 0.30

=item *

C<Archive::Tar> upgraded from version 1.38 to 1.42

=item *

C<B> upgraded from version 1.17 to 1.22

=item *

C<Digest::MD5> upgraded from version 2.36_01 to 2.38

=item *

C<ExtUtils::Install> upgraded from version 1.44 to 1.52

=item *

C<Fatal> upgraded from version 1.05 to 1.998. See also the new pragma
C<autodie>.

=item *

C<Log::Message> upgraded from version 0.01 to 0.02

=item *

C<Module::CoreList> upgraded from version 2.13 to 2.17

=item *

C<Module::Loaded> upgraded from version 0.01 to 0.02

=item *

C<Module::Load::Conditional> upgraded from version 0.22 to 0.30

=item *

C<Package::Constants> upgraded from version 0.01 to 0.02

=item *

C<Pod::Text> upgraded from version 3.08 to 3.13

=item *

C<Symbol> upgraded from version 1.06 to 1.07

=item *

C<Test::Simple> upgraded from version 0.80 to 0.86_01 XXX not a CPAN release

=item *

C<Unicode::UCD> upgraded from version 0.25 to 0.27

=item *

C<Win32API::File> upgraded from version 0.1001_01 to 0.1101

=back

=head1 Utility Changes

=head1 New Documentation

L<perlperf> by Richard Foley, provides an introduction to the use of
performance and optimization techniques which can be used with particular
reference to perl programs.

L<perlrepository> describes how to access the perl source using git.

=head1 Performance Enhancements

=head1 Installation and Configuration Improvements

=head2 Configuration improvements

if C<vendorlib> and C<vendorarch> are the same, then they are only added to
C<@INC> once.

C<$Config{usedevel}> and the C-level C<PERL_USE_DEVEL> are now defined if
perl is built with  C<-Dusedevel>.

=head2 Compilation improvements

=head2 Installation improvements.

=head2 Platform Specific Changes

=head3 NetBSD

hints now supports versions 5.*.



=head1 Selected Bug Fixes

=head2 Other fixes

=over

=item *

Fixed memory leak on C<while (1) { map 1, 1 }> [RT # 53038].

=item *

Some potential coredumps in PerlIO fixed [RT # 57322,54828].

=item *

The debugger now works with lvalue subroutines

=item *

The debugger's C<m> command was broken on modules that defined constants
[RT #61222].


=item *

C<crypt()> and string complement could return tainted values for untainted
arguments [RT # 59998].

=item *

The C<-i.sufffix> command-line switch now recreates the file using
restricted permissions, before changing its mode to match the original
file. This eliminates a potential race condition.

=item *

On some UNIX systems, the value in C<$?> would not have the top bit set
(C<$? & 128>) even if the child core dumped.

=item *

Under some circumstances, $^R could incorrectly become undefined
[RT # 57042].

=item *

(XS) In various hash functions, passing a pre-computed hash to when the
key is utf8 might result in an incorrect lookup.

=back

=head1 New or Changed Diagnostics

=head1 Changed Internals

C<vcroak()> now accepts a null first argument.

New macros C<dSAVEDERRNO>, C<dSAVE_ERRNO>, C<SAVE_ERRNO>, C<RESTORE_ERRNO>
have been added to formalise the temporary saving of the C<errno>
variable.

The function C<Perl_sv_insert_flags> has been added to augment
C<Perl_sv_insert>.

=head1 Known Problems

=head2 Platform Specific Problems

=head1 Acknowledgements

Some of the work in this release was funded by a TPF grant.

XXX more to come

=head1 Reporting Bugs

If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at http://bugs.perl.org/ .  There may also be
information at http://www.perl.org/ , the Perl Home Page.

If you believe you have an unreported bug, please run the B<perlbug>
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of C<perl -V>, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.

=head1 SEE ALSO

The F<Changes> file for exhaustive details on what changed.

The F<INSTALL> file for how to build Perl.

The F<README> file for general stuff.

The F<Artistic> and F<Copying> files for copyright information.

=cut
